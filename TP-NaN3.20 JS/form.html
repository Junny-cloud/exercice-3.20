<!DOCTYPE html>
<html>
<head>
	<title>apple</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="js/app.js"></script>
</head>
<body>
	<div class="main">
		<div class="header">
			<div class="topnav" id="myTopnav">
				<a class="logo" href="#"><img src="img/Apple.png" width="17px" height="20px" alt="logo Apple"></a></li>
				<a href="#">Mac</a>
				<a href="#">iPad</a>
				<a href="#">iPhone</a>
				<a href="#">Watch</a>
				<a href="#">TV</a>
				<a href="#">Music</a>
				<a href="#" class="active">Support</a>
				<a href="#"><img src="img/search.png" width="20px" height="20px" alt="logo search"></a>
				<a href="#"><img src="img/cart.png" width="20px" height="20px" alt="logo search"></a>
				<a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a>
			</div>

		</div>
	<div class="formulaire">
			<form  class="form2" onsubmit="return validateMyForm();">
				<fieldset>
					<legend>
						<h2> FORMULAIRE DE CONTACT </h2>
					</legend>
					
					<div class="champ">
						<label for="firstname">Nom</label><br>
						<input class="firstname" type="text" name="nom" autocomplete="off" placeholder="Entrez votre nom"  required><span></span>
					</div>
					<div class="champ">
						<label for="lastname">Prenom</label><br>
						<input class="lastname" type="text" name="prenom" autocomplete="off" placeholder="Entrez votre prÃ©nom" required><span></span>
					</div>
					<div class="champ">
						<label for="email">E-mail</label><br>
						<input id="email"  type="email" name="email" autocomplete="off" placeholder="Entrez votre adresse Email " required><span></span>
					</div>
					
					<div class="champ">
						<label for="password1">Mot de passe</label><br>
						<input class="password" type="password" name="password1" autocomplete="off"  placeholder="Entrez votre mot de passe" required ><span></span>
					</div>
					<div class="champ">
						<label for="telephone">Telephone</label><br>
						<input id="telephone" type="number" name="telephone" autocomplete="off"  placeholder="Numero a 8 chiffres" required maxlength="8"><span></span>
					</div>
					<div class="champ">
						<button type="submit"  class="connexion">Envoyer</button>
					</div>
				</fieldset>
			</form>
		</div>
	
		
    <script>
  /* ----------------------------------- DECLARATION DES VARIABLE -----------------------------------------------*/
   var status_email= 0; var status_tel = 0; var status_nom = 0; var status_prenom = 0;
 var status_pass1 = 0;  

 /* -------------------------------------------- FIRST NAME ---------------------------------------------*/

   var firstname = document.querySelector(".firstname");

        firstname.addEventListener('blur', function(){
            var long = this.value.length;
            if(long < 3){
                this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
                this.style.border ="1px solid red";
            }else{
                var reGex_name = /[^A-Za-z]/;

                var nom_val = reGex_name.test(this.value);
                if(nom_val){
                    this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
                    this.style.border ="1px solid red";
                    status_nom = 0;
                }
                else{
                    this.nextElementSibling.innerHTML = ' <img src="img/vert.png" >';
                    this.style.border ='1px solid #46c77a';
                    status_nom = 1; 
                }
            }     
        })



/* -------------------------------------------- LAST NAME ---------------------------------------------*/
 var lastname = document.querySelector(".lastname");

        lastname.addEventListener('blur', function(){
            var long = this.value.length;
            if(long < 3){
                this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" > ';
                this.style.border ="1px solid red";

            }else{
                var reGex_name = /[^A-Za-z]/;

                var nom_val = reGex_name.test(this.value);
                if(nom_val){
                    this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
                    this.style.border ="1px solid red";
                    status_prenom == 0; 
                }
                else{
                    this.nextElementSibling.innerHTML = ' <img src="img/vert.png" >';
                    this.style.border ='1px solid #46c77a';
                   status_prenom == 1; 
                }
            }     
        })
/* ---------------------------------------------   EMAIL -----------------------------------------------*/
var email = document.querySelector('#email');
email.addEventListener('blur', function(){
     var email_test = this.value;
     var reGex_email = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; 
     if(!reGex_email.test(email_test)){
         this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
         this.style.border ="1px solid red";
       status_email == 0;
         
     }else{
         this.nextElementSibling.innerHTML = ' <img src="img/vert.png" >';
         this.style.border ='1px solid #46c77a';
         status_email = 1;  

     }

})
/* --------------------------------------------TELEPHONE -----------------------------------------*/
var telephone = document.querySelector('#telephone');
telephone.addEventListener('blur', function(){
 var tel_test = this.value;
 var reGex_tel = /[^0-9]/;
 if(tel_test.length != 8){
     this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
     this.style.border ="1px solid red";
 }else{
     if(reGex_tel.test(tel_test)){
         this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
         this.style.border ="1px solid red";
         status_tel = 0;
      }else{
         this.nextElementSibling.innerHTML = ' <img src="img/vert.png" >';
         this.style.border ='1px solid #46c77a';
         status_tel = 1;
      }
 }
 
})

/* ---------------------------------------------- PASSWORD ---------------------------------------------*/
var password = document.querySelector('.password');
    password.addEventListener('blur', function(){
        if(this.value.length < 8){
         this.nextElementSibling.innerHTML = ' <img src="img/rouge.png" >';
         this.style.border ="1px solid red";
         status_password = 0;
        }
        else{
         this.nextElementSibling.innerHTML = ' <img src="img/vert.png" >';
         this.style.border ='1px solid #46c77a';  
         status_password = 1; 
        }
    })

    /* ------------------------------------------FORMULAIRE -------------------------------------------------*/
 var button = document.querySelector('.connexion');
   button.addEventListener('click', validateMyForm);
   function validateMyForm(){
    if(status_nom == 1 && status_password == 1 && status_tel == 1 && status_email == 1 ){
        document.querySelector(".connexion").disabled = false;
        window.open('img/content3.png');
        return true;
    }else{
        document.querySelector('.connexion').disabled = false;
        alert('Veillez remplir correctement tous les champs du formulaire');
    return false; 
    }
   }  

    </script>

	</div>
</body>
</html>